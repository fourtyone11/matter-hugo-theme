<head>
  <meta charset="UTF-8">
  <title>{{ .Site.Title }}</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta name="description" content="{{if .IsHome}}{{ .Site.Params.description }}{{else}}{{.Description}}{{end}}" />

  <meta name="theme-color" content="#333333">

  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Share+Tech+Mono&family=Work+Sans:wght@400;600&display=swap" rel="stylesheet">

  <meta property="og:title" content="{{ if not .IsHome }}{{with .Title }}{{ . }}{{ end }}{{else}}{{ .Site.Title }}{{end}}" />
  <meta property="og:description" content="{{if .IsHome}}{{ .Site.Params.description }}{{else}}{{.Description}}{{end}}" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="{{.Page.Permalink}}" />
  <meta itemprop="name" content="{{ if not .IsHome }}{{with .Title }}{{ . }}{{ end }}{{else}}{{ .Site.Title }}{{end}}">
  <meta itemprop="description" content="{{if .IsHome}}{{ .Site.Params.description }}{{else}}{{.Description}}{{end}}">
  <meta name="twitter:card" content="summary"/>
  <meta name="twitter:title" content="{{ if not .IsHome }}{{with .Title }}{{ . }}{{ end }}{{else}}{{ .Site.Title }}{{end}}"/>
  <meta name="twitter:description" content="{{if .IsHome}}{{ .Site.Params.description }}{{else}}{{.Description}}{{end}}"/>

  <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="favicon-32.png">

  {{if .Page.IsHome}}
    <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css">
  {{end}}

  {{ if .Site.IsServer }}

  {{ $style := resources.Get "css/style.css" | postCSS (dict "config" "./postcss.config.js") | fingerprint }}
  <link rel="stylesheet" href="{{ $style.RelPermalink }}" crossorigin="anonymous">

  {{ else }}

    {{ $style := resources.Get "css/style.css" | postCSS (dict "config" "./postcss.config.js")  | minify | fingerprint }}
    <link rel="stylesheet" href="{{ $style.RelPermalink }}" integrity="{{ $style.Data.Integrity }}">

    {{ end }}

  {{if .Page.IsHome}}
    {{ $js := resources.Get "js/main.ts" | js.Build }}
    <script defer src="{{$js.RelPermalink}}"></script>
  {{else if .Page.IsPage }}
  {{end}}
</head>
